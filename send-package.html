<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Envoyer un colis - ExpressDelivery</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav>
            <a href="index.html" class="logo-link">
                <div class="logo">
                    <img src="logo-transparent-png.png" alt="ExpressDelivery" class="nav-logo">
                </div>
            </a>
            <ul>
                <li><a href="index.html">Retour Ã  l'accueil</a></li>
            </ul>
        </nav>
    </header>

    <main class="verification-page">
        <div class="verification-container">
            <div class="progress-bar">
                <div class="step active">1. ExpÃ©diteur</div>
                <div class="step">2. Destinataire</div>
                <div class="step">3. Colis</div>
            </div>

            <form id="packageForm" class="verification-form">
                <!-- Ã‰tape 1: Informations expÃ©diteur -->
                <div class="form-section" id="step1">
                    <h2>Informations expÃ©diteur</h2>
                    <div class="form-group">
                        <label for="senderName">Nom complet</label>
                        <input type="text" id="senderName" name="senderName" required>
                    </div>
                    <div class="form-group">
                        <label for="senderPhone">TÃ©lÃ©phone</label>
                        <input type="tel" id="senderPhone" name="senderPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="senderEmail">Email</label>
                        <input type="email" id="senderEmail" name="senderEmail" required>
                    </div>
                    <div class="form-group">
                        <label for="pickupAddress">Adresse de ramassage</label>
                        <input type="text" id="pickupAddress" name="pickupAddress" required>
                    </div>
                    <div class="form-buttons">
                        <button type="button" class="next-btn">Suivant</button>
                    </div>
                </div>

                <!-- Ã‰tape 2: Informations destinataire -->
                <div class="form-section hidden" id="step2">
                    <h2>Informations destinataire</h2>
                    <div class="form-group">
                        <label for="receiverName">Nom du destinataire</label>
                        <input type="text" id="receiverName" name="receiverName" required>
                    </div>
                    <div class="form-group">
                        <label for="receiverPhone">TÃ©lÃ©phone du destinataire</label>
                        <input type="tel" id="receiverPhone" name="receiverPhone" required>
                    </div>
                    <div class="form-group">
                        <label for="deliveryAddress">Adresse de livraison</label>
                        <input type="text" id="deliveryAddress" name="deliveryAddress" required>
                    </div>
                    <div class="form-buttons">
                        <button type="button" class="prev-btn">PrÃ©cÃ©dent</button>
                        <button type="button" class="next-btn">Suivant</button>
                    </div>
                </div>

                <!-- Ã‰tape 3: Informations colis -->
                <div class="form-section hidden" id="step3">
                    <h2>Informations du colis</h2>
                    
                    <!-- Ajout de la capture vidÃ©o -->
                    <div class="form-group video-capture">
                        <label>VÃ©rification vidÃ©o du colis</label>
                        <div class="video-container">
                            <video id="videoPreview" autoplay playsinline></video>
                            <canvas id="videoCanvas" style="display: none;"></canvas>
                            <div class="video-controls">
                                <button type="button" id="startVideo" class="video-btn">ðŸ“¹ DÃ©marrer la camÃ©ra</button>
                                <button type="button" id="captureVideo" class="video-btn" disabled>ðŸ“¸ Capturer</button>
                            </div>
                        </div>
                        <div class="video-preview"></div>
                    </div>

                    <!-- Style amÃ©liorÃ© pour le type de colis -->
                    <div class="package-type-selector">
                        <h3>Type de colis</h3>
                        <div class="package-options">
                            <div class="package-option">
                                <input type="radio" id="small" name="packageType" value="small" required>
                                <label for="small">
                                    <div class="package-icon">ðŸ“¦</div>
                                    <div class="package-info">
                                        <h4>Petit colis</h4>
                                        <p>Max 5kg</p>
                                        <ul>
                                            <li>Dimensions max: 30x30x30cm</li>
                                            <li>IdÃ©al pour petits objets</li>
                                        </ul>
                                    </div>
                                </label>
                            </div>
                            <div class="package-option">
                                <input type="radio" id="medium" name="packageType" value="medium">
                                <label for="medium">
                                    <div class="package-icon">ðŸ“¦ðŸ“¦</div>
                                    <div class="package-info">
                                        <h4>Moyen colis</h4>
                                        <p>Max 15kg</p>
                                        <ul>
                                            <li>Dimensions max: 50x50x50cm</li>
                                            <li>Pour objets de taille moyenne</li>
                                        </ul>
                                    </div>
                                </label>
                            </div>
                            <div class="package-option">
                                <input type="radio" id="large" name="packageType" value="large">
                                <label for="large">
                                    <div class="package-icon">ðŸ“¦ðŸ“¦ðŸ“¦</div>
                                    <div class="package-info">
                                        <h4>Grand colis</h4>
                                        <p>Max 30kg</p>
                                        <ul>
                                            <li>Dimensions max: 80x80x80cm</li>
                                            <li>Pour objets volumineux</li>
                                        </ul>
                                    </div>
                                </label>
                            </div>
                        </div>
                    </div>

                    <!-- Description amÃ©liorÃ©e du contenu -->
                    <div class="form-group content-description">
                        <label for="packageContent">Description dÃ©taillÃ©e du contenu</label>
                        <div class="content-input-container">
                            <textarea id="packageContent" name="packageContent" rows="3" required 
                                      placeholder="DÃ©crivez prÃ©cisÃ©ment le contenu de votre colis..."></textarea>
                            <div class="content-guidelines">
                                <h4>Guidelines :</h4>
                                <ul>
                                    <li>âœ“ DÃ©crivez la nature des objets</li>
                                    <li>âœ“ Mentionnez les matÃ©riaux</li>
                                    <li>âœ“ Indiquez la fragilitÃ©</li>
                                    <li>âœ“ PrÃ©cisez les dimensions</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="packageWeight">Poids approximatif (kg)</label>
                        <input type="number" id="packageWeight" name="packageWeight" min="0" max="30" step="0.1" required>
                    </div>
                    <div class="form-group">
                        <label for="urgency">Niveau d'urgence</label>
                        <select id="urgency" name="urgency" required>
                            <option value="normal">Standard (2-3 jours)</option>
                            <option value="express">Express (24h)</option>
                            <option value="urgent">Ultra urgent (2h)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="fragile" name="fragile">
                            Colis fragile (manipulation spÃ©ciale)
                        </label>
                    </div>
                    <div class="form-buttons">
                        <button type="button" class="prev-btn">PrÃ©cÃ©dent</button>
                        <button type="submit" class="submit-btn">Valider l'envoi</button>
                    </div>
                </div>
            </form>
        </div>
    </main>

    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore-compat.js"></script>
    <script src="firebase-config.js"></script>
    <script src="send-package.js"></script>
</body>
</html> 